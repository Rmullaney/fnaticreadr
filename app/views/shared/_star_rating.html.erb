<div class="flex items-center">
  <% if defined?(review) && review %>  
    <% stars = review.rating %> 
  <% elsif defined?(book) && book %> 
    <% stars = book.rating || 0 %>  
  <% else %>
    <% stars = 0 %>  <!-- Default to 0 if neither a review nor a book is provided -->
  <% end %>

  <% (1..5).each do |i| %>
    <% if stars >= i %>
      <!-- Full star -->
      <i class="fas fa-star text-yellow-300 me-1"></i>
    <% elsif stars > (i - 1) && stars < i %>
      <!-- Half star -->
      <i class="fas fa-star-half-alt text-yellow-300 me-1"></i>
    <% else %>
      <!-- Empty star -->
      <i class="fas fa-star text-gray-300 me-1"></i>
    <% end %>
  <% end %>

  <p class="ms-1 text-sm font-medium text-gray-500">
    <% if stars == 0 %>
      No ratings yet
    <% else %>
      <%= stars.round(2) %> stars
    <% end %>
  </p>
</div>
